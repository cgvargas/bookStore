{% load static %}

<div class="weather-card-wrapper">
    <div class="weather-card" id="weather-widget">
    <div class="weather-card-header">
        <div class="header-top">
            <h3>Previsão do Tempo</h3>
            <button id="toggle-weather-card" class="toggle-card-btn" aria-label="Expandir/Recolher widget">
                <i class="bi bi-chevron-up"></i>
            </button>
        </div>
        <div class="location-selector">
            <input type="text" id="weather-location" placeholder="Digite sua cidade..." aria-label="Cidade para previsão do tempo">
            <button id="search-location" aria-label="Buscar previsão do tempo">
                <i class="bi bi-search"></i>
            </button>
        </div>
    </div>

    <div class="weather-card-body">
        <div class="weather-loading" id="weather-loading">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
        </div>

        <div class="weather-content" id="weather-content" style="display: none;">
            <div class="weather-icon-container">
                <div class="weather-icon" id="weather-icon">
                    <!-- Os ícones serão inseridos via JavaScript -->
                </div>
            </div>

            <div class="weather-info">
                <h4 class="city-name" id="city-name">--</h4>
                <div class="temperature-container">
                    <span class="temperature" id="current-temp">--</span>
                    <span class="unit">°C</span>
                </div>
                <p class="weather-description" id="weather-description">--</p>
                <div class="weather-details">
                    <div class="detail">
                        <i class="bi bi-droplet"></i>
                        <span id="humidity">--</span>
                    </div>
                    <div class="detail">
                        <i class="bi bi-wind"></i>
                        <span id="wind-speed">--</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="weather-error" id="weather-error" style="display: none;">
            <i class="bi bi-exclamation-triangle"></i>
            <p id="error-message">Não foi possível obter a previsão do tempo.</p>
        </div>
    </div>

    <div class="weather-card-footer">
        <p class="last-updated">Atualizado: <span id="last-updated">--</span></p>
    </div>
</div>
</div>